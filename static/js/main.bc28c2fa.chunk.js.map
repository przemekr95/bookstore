{"version":3,"sources":["components/useDropdown.js","components/InputComponent/InputComponent.js","store/reducer.js","components/Add/Add.js","components/Book/Book.js","components/Inventory/Inventory.js","App.js","store/RootReducer.js","store/Store.js","components/Wrapper.js","index.js"],"names":["useDropdown","defaultState","label","options","useState","state","setState","id","htmlFor","value","onChange","e","target","onBlur","map","option","InputComponent","props","this","type","placeholder","event","React","Component","ADD_BOOK","initialState","books","Add","title","setTitle","author","setAuthor","publicationDate","setPublicationDate","dispatch","useDispatch","genre","GenreDropdown","audience","AudienceDropdown","className","onClick","preventDefault","stopPropagation","payload","addBook","Book","Inventory","bookComponents","book","to","length","App","useSelector","reducer","useEffect","fetch","then","response","json","data","forEach","path","rootReducer","combineReducers","action","newBooks","console","warn","Store","createStore","RootReducer","window","__REDUX_DEVTOOLS_EXTENSION__","Wrapper","store","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.bc28c2fa.chunk.js","sourcesContent":["import React, { useState } from \"react\";\r\n\r\nconst useDropdown = (defaultState, label, options) => {\r\n    const [state, setState] = useState(defaultState);\r\n    const id = `use-dropdown-${label}`;\r\n\r\n    const Dropdown = () => {\r\n        return (\r\n            <label htmlFor={id}>\r\n                    {label}\r\n                    <select id={id} \r\n                            value={state} \r\n                            onChange={e => setState(e.target.value)}\r\n                            onBlur={e => setState(e.target.value)}>\r\n                        {\r\n                            options.map(option => {\r\n                                return <option key={option} value={option}>{option}</option>\r\n                            })\r\n                        }\r\n                    </select>\r\n                </label>\r\n        )\r\n    } \r\n    return [state, Dropdown, setState]   \r\n}\r\n\r\nexport default useDropdown;\r\n","import React from 'react';\r\nimport './../../css/InputComponent.css';\r\n\r\nclass InputComponent extends React.Component {\r\n\r\n    constructor(props){\r\n        super(props);\r\n        this.state={\r\n            id: `component-input-${this.props.label}`\r\n        }\r\n    }\r\n    \r\n    render(){\r\n\r\n        const { label, state, setState, type = \"text\" } = this.props;\r\n\r\n        return(\r\n            <label htmlFor={this.state.id}>\r\n                {label}:\r\n                <input \r\n                    id={this.state.id}\r\n                    type={type} \r\n                    value={state} \r\n                    placeholder=\"\" \r\n                    onChange={event => setState(event.target.value)}\r\n                />\r\n            </label>\r\n        )\r\n    }\r\n\r\n}\r\n\r\nexport default InputComponent","export const ADD_BOOK = \"ADD_BOOK\";\r\n\r\nconst initialState = {\r\n    books: []\r\n};\r\n\r\nexport default (state = initialState, action) => {\r\n    switch(action.type){\r\n        case ADD_BOOK: {\r\n            const newBooks = [...state.books, action.payload];\r\n            return {\r\n                ...state,\r\n                books: newBooks\r\n            }\r\n        }\r\n        default: {\r\n            console.warn(`Unknow action ${action.type}`);\r\n            return {...state};\r\n        }\r\n    }\r\n}\r\n\r\nexport const addBook = (book) => dispatch => {\r\n    dispatch({type: ADD_BOOK, payload: book})\r\n}","import React, { useState } from 'react';\r\nimport { useDispatch } from \"react-redux\";\r\nimport useDropdown from '../useDropdown';\r\nimport InputComponent from '../InputComponent/InputComponent.js';\r\nimport { ADD_BOOK } from '../../store/reducer';\r\nimport './../../css/Add.css';\r\n\r\n\r\nconst Add = () =>{ \r\n\r\n    const [title, setTitle] = useState(\"\");\r\n    const [author, setAuthor] = useState(\"\");\r\n    const [publicationDate, setPublicationDate] = useState(\"\");\r\n    const dispatch = useDispatch();\r\n\r\n\r\n    const genres = [\"Fantastyka\", \"Horror\", \"Kryminał\"];\r\n    const audiences =[\"Dzieci\", \"Młodzież\", \"Dorośli\"];\r\n    \r\n    const [genre, GenreDropdown] = useDropdown(\"\", \"Gatunek\", genres);\r\n    const [audience, AudienceDropdown] = useDropdown(\"\", \"Dla\", audiences);\r\n\r\n    const addBook = event => {\r\n        event.preventDefault();\r\n        event.stopPropagation();\r\n        const newBook = {\r\n            author: author,\r\n            title: title,\r\n            publicationDate: publicationDate,\r\n            genre: genre,\r\n            audience: audience\r\n        };\r\n        dispatch({type: ADD_BOOK, payload: newBook})\r\n\r\n    }\r\n\r\n\r\n    return (\r\n        <>\r\n            <form className=\"add-box\">\r\n                <InputComponent \r\n                    label=\"Tytuł\" \r\n                    state={title} \r\n                    setState={setTitle}\r\n                />\r\n                <InputComponent \r\n                    label=\"Autor\" \r\n                    state={author} \r\n                    setState={setAuthor}\r\n                />\r\n                <InputComponent \r\n                    label=\"Rok publikacji\" \r\n                    state={publicationDate} \r\n                    setState={setPublicationDate}\r\n                    type=\"number\"\r\n                />\r\n                <GenreDropdown/>\r\n                <AudienceDropdown/>\r\n                <button onClick={event => addBook(event)}>Dodaj</button>\r\n            </form>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Add;","import React from 'react';\r\nimport './../../css/Book.css'\r\n\r\nconst Book = ({title, author, publicationDate, genre, audience}) => {\r\n    return (\r\n        <div className=\"book\">\r\n            <h2>{title}</h2>\r\n            <h3><span>Autor: </span>{author}</h3>\r\n            <h3><span>Rok publikacji: </span>{publicationDate}</h3>\r\n            <h3><span>Gatunek: </span>{genre}</h3>\r\n            <h3><span>Dla: </span>{audience}</h3>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Book","import React from \"react\";\r\nimport { Link } from \"@reach/router\";\r\nimport Book from \"../Book/Book.js\";\r\nimport './../../css/Inventory.css';\r\n\r\nconst Inventory = ({books}) => {\r\n\r\n    const bookComponents = books.map(book => {\r\n        return (\r\n            <Book\r\n                key={book.title}\r\n                title={book.title}\r\n                author={book.author}\r\n                publicationDate={book.publicationDate}\r\n                genre={book.genre}\r\n                audience={book.audience}\r\n            />\r\n        )\r\n    })\r\n\r\n    return(\r\n        <div className=\"inventory\">\r\n            <Link className=\"admin-link\" to=\"/admin\">Zarządzaj inwentarzem</Link>\r\n            {books.length === 0 ? <h3>Brak książek</h3> : bookComponents}\r\n        </div>\r\n    )\r\n    \r\n\r\n    \r\n}\r\n\r\nexport default Inventory","import React, { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Router, Link } from \"@reach/router\";\nimport './App.css';\nimport Add from './components/Add/Add';\nimport Inventory from './components/Inventory/Inventory.js';\nimport { ADD_BOOK } from \"./store/reducer.js\";\n\nfunction App() {\n  const dispatch = useDispatch();\n  const books = useSelector(state=>state.reducer.books)\n\n  useEffect(()=>{\n    fetch(\"https://clockworkjava.pl/books.php\")\n    .then(response => {\n        return response.json();\n    })\n    .then(data => {\n        data.forEach(book => {\n          dispatch({type: ADD_BOOK, payload: book})\n        })\n    });       \n},[])\n\n  return (\n    <div className=\"wrapper\">\n      <Link className=\"header\" to=\"/\">\n        <h1>Bookstore</h1>\n      </Link>\n      <Router>\n        <Add path=\"/admin\"/>\n        <Inventory books={books} path=\"/\"/>\n      </Router>\n    </div>\n  );\n}\n\nexport default App;\n","import { combineReducers } from 'redux';\r\nimport reducer from \"./reducer\";\r\n\r\nconst rootReducer = combineReducers({\r\n    reducer\r\n})\r\n\r\nexport default rootReducer;","import { createStore } from \"redux\";\r\nimport RootReducer from \"./RootReducer\";\r\n\r\nconst Store = createStore(\r\n    RootReducer,\r\n    window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\r\n    );\r\n\r\nexport default Store;","import React from \"react\";\r\nimport { Provider } from \"react-redux\";\r\nimport App from \"./../App\";\r\nimport Store from \"./../store/Store\";\r\n\r\n\r\nconst Wrapper = () =>{\r\n    return (\r\n        <Provider store={Store}>\r\n            <App />\r\n        </Provider>\r\n    )\r\n}\r\n\r\nexport default Wrapper;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport Wrapper from './components/Wrapper';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <Wrapper />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}